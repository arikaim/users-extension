{% set user = createModel('Users').findById(uuid) %}
{% set tokens = createModel('AccessTokens').getUserTokens(user.id) %}

{% component 'components:tabs.vertical.content' %}
<table class="ui very basic mini table fluid">
    <thead>
        <th class="collapsing"></th>
        <th>{{ labels.created }}</th>
        <th>{{ labels.expired_date }}</th>
        <th>{{ labels.token }}</th>
        <th>{{ labels.action }}</th>
    </thead>
    <tbody>
        {% if tokens is empty %}
            <tr>
                <td colspan="5">..</td>
            </tr>
        {% endif %}
        {% for token in tokens %}
        {% set expired_class = (token.expired == true) ? 'error' : 'positive' %}
        <tr class="{{ expired_class }}" id="{{ token.uuid }}">
            <td class="collapsing">
                {% if token.expired == true %}
                    <i class="icon exclamation" title="{{ labels.expired }}"></i>
                {% else %}
                    <i class="ion olive check"></i>
                {% endif %}
            </td>
            <td>{{ token.date_created|dateTimeFormat }}</td>
            <td>{{ token.date_expired|dateTimeFormat }}</td>
            <td>{{ token.token }}</td>
            <td>
                <button class="ui mini basic icon button delete-token" uuid="{{ token.uuid }}">
                    <i class="icon trash orange"></i>                  
                </button>
            </td>
        </tr>            
        {% endfor %}
    </tbody>
</table>
{% endcomponent %}
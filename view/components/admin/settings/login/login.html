{% set login_with = getOption('users.login.with',1) %}
{% set captcha_protect = getOption('users.login.captcha.protect',true) %}
{% set redirect = getOption('users.login.redirect','') %}
{% set require_verified_email = getOption('users.login.require.verified.email',false) %}

{% component 'system:admin.panel' %}
    {% set size = 'w-1/2' %}
    {{ component('system:admin.alert.demo') }}
    <form class="form" id="settings_form">  
        <div class="{{ theme.panel }}">
            <div class="{{ theme.form.space }} {{ theme.form.field }}">                           
                <input 
                    type="radio" 
                    name="login_with" 
                    id="login_with_username" 
                    tabindex="0" 
                    class="login-with {{ theme.form.radio }}" 
                    {{ login_with|ifthen(1,'checked') }} 
                    value="1">
                <label class="{{ theme.form.label }}">
                    {{ labels.username }}
                </label>               
            </div>
            <div class="{{ theme.form.space }} {{ theme.form.field }}">           
                <input 
                    type="radio" 
                    name="login_with" 
                    id="login_with_email" 
                    tabindex="0" 
                    class="login-with {{ theme.form.radio }}" 
                    {{ login_with|ifthen(2,'checked') }} 
                    value="2">
                <label class="{{ theme.form.label }}">
                    {{ labels.email }}
                </label> 
            </div>       
            <div class="{{ theme.form.space }} {{ theme.form.field }}">                          
                <input 
                    type="radio" 
                    name="login_with" 
                    id="login_with_username_email" 
                    tabindex="0" 
                    class="login-with {{ theme.form.radio }}" 
                    {{ login_with|ifthen(3,'checked') }} 
                    value="3">
                <label class="{{ theme.form.label }}">
                    {{ labels.combined }}
                </label>              
            </div>
        </div>
        <div class="{{ theme.form.space }} {{ theme.form.field }}">
            <input 
                id="require_verified_email"
                type="checkbox" 
                name="verified_email" 
                tabindex="0" 
                class="{{ theme.form.checkbox }}" 
                value="true"
                {{ require_verified_email|ifthen(true,'checked') }}>
            <label class="flex flex-col {{ theme.form.label }}">
                <span class="text-base">
                    {{ labels.verified }}
                </span>
                <span class="{{ theme.form.hint }}">
                    {{ labels.verified_email }}
                </span>
            </label>        
        </div>
        <div class="{{ theme.form.space }} {{ theme.form.field }}">
            <input 
                id="captcha_protect"
                type="checkbox" 
                name="show_captcha" 
                tabindex="0" 
                class="{{ theme.form.checkbox }}" 
                value="true" 
                {{ captcha_protect|ifthen(true,'checked') }}>
            <label class="flex flex-col {{ theme.form.label }}">
                <span class="text-base">
                    {{ labels.captcha }}
                </span>
                <span class="{{ theme.form.hint }}">
                    {{ labels.protect }}
                </span>
            </label>           
        </div>       
        {% if hasExtension('oauth') == true %}
            <div class="mt-4 {{ theme.panel }}">
                <h4 class="font-bold mb-2">
                    {{ labels.oauth }}
                </h4>               
                {{  component('system:admin.option.checkbox',{ 
                        name: 'users.sign.with.facebook',
                        value: getOption('users.sign.with.facebook',false),
                        label: labels.facebook 
                    }) 
                }}
                {{  component('system:admin.option.checkbox',{ 
                        name: 'users.sign.with.github',
                        value: getOption('users.sign.with.github',false),
                        label: labels.github 
                    }) 
                }}
                {{  component('system:admin.option.checkbox',{ 
                        name: 'users.sign.with.twitter',
                        value: getOption('users.sign.with.twitter',false),
                        label: labels.twitter 
                    }) 
                }} 
                {{  component('system:admin.option.checkbox',{ 
                        name: 'users.sign.with.google',
                        value: getOption('users.sign.with.google',false),
                        label: labels.google 
                    }) 
                }}
            </div> 
        {% endif %}
        <div 
            class="{{ theme.form.field }}">           
            <label class="{{ theme.form.label }}">
                {{ labels.redirect }}
            </label>
            <div class="space-x-3 {{ theme.form.input }}">
                <div class="w-1/2 label-text my-auto">
                    {{ base_url }}/
                </div>
                <input                     
                    type="text" 
                    name="redirect" 
                    id="redirect" 
                    value="{{ redirect }}" 
                    placeholder="{{ placeholder.redirect }}">     
            </div> 
        </div>
        {{ component('system:form.footer') }}
    </form>
{% endcomponent %}